{"ast":null,"code":"var _jsxFileName = \"/Users/yardentsaraf/Desktop/TLC/src/components/user/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useEffect, useState } from \"react\";\nimport \"./User.scss\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../header/Header\";\nimport Footer from \"../footer/Footer\";\nimport SubmitButton from \"../layout/button/SubmitButton\";\nimport axios from \"axios\";\nimport { authMiddleware } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  const [feedback, setFeedback] = useState(\"\");\n  const [formInputs, setFormInputs] = useState({});\n\n  const handleChange = e => {\n    if (e.target.name === \"keywords\") e.target.value = e.target.value.split(\", \");\n    setFormInputs({ ...formInputs,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleAssociationChange = e => {\n    setFormInputs({ ...formInputs,\n      associationDetails: { ...formInputs.associationDetails,\n        [e.target.name]: e.target.value\n      }\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(formInputs);\n\n    try {\n      const result = await axios.post(\"http://localhost:8080/auth/signup\", formInputs);\n      console.log(result);\n\n      if (result.data.token) {\n        localStorage.setItem(\"role\", result.data.role);\n        localStorage.setItem(\"token\", result.data.token);\n      }\n\n      setFeedback(\"Signed up successfuly\");\n    } catch (err) {\n      setFeedback(err.response.data || \"Network error. try again\");\n    }\n  };\n\n  useEffect(() => {\n    authMiddleware(true, false, true);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please fill in this form to create an account.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"account-type\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Account type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleChange(e),\n          name: \"role\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"association\",\n            children: \"association\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: e => handleChange(e),\n        value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: e => handleChange(e),\n        value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        onChange: e => handleChange(e),\n        value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        minLength: 4,\n        onChange: e => handleChange(e),\n        value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Phone: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"phone\",\n        onChange: e => handleChange(e),\n        value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), formInputs.role === \"user\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Which field interests you?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 51\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"examples\",\n          children: \" (For example: soldiers, holocaust survivors, etc.) \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 95\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"keywords\",\n          onChange: e => handleChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true), formInputs.role === \"association\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Big Image url: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"bigImage\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.bigImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Image url: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"image\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"description: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"city: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"city\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"street: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"street\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.street\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Opening Hour: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"openingHour\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.openingHour\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Closing Hour: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"closingHour\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.closingHour\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Site link: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"siteLink\",\n          onChange: e => handleAssociationChange(e),\n          value: formInputs === null || formInputs === void 0 ? void 0 : formInputs.siteLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submit-form-btn\",\n        children: /*#__PURE__*/_jsxDEV(SubmitButton, {\n          onClick: e => handleSubmit(e),\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signin\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: feedback\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"WO3uBOeRUzH/Mfkk78KJBtGttpw=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/yardentsaraf/Desktop/TLC/src/components/user/SignUp.tsx"],"names":["Fragment","useEffect","useState","Link","Header","Footer","SubmitButton","axios","authMiddleware","SignUp","feedback","setFeedback","formInputs","setFormInputs","handleChange","e","target","name","value","split","handleAssociationChange","associationDetails","handleSubmit","preventDefault","console","log","result","post","data","token","localStorage","setItem","role","err","response","email","username","password","phone","bigImage","image","description","city","street","openingHour","closingHour","siteLink"],"mappings":"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","sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\r\nimport Input from \"../layout/form/Input\";\r\nimport \"./User.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../header/Header\";\r\nimport Footer from \"../footer/Footer\";\r\nimport SubmitButton from \"../layout/button/SubmitButton\";\r\nimport axios from \"axios\";\r\nimport { authMiddleware } from \"../../utils\";\r\nconst SignUp = () => {\r\n  \r\n  const [feedback, setFeedback] = useState(\"\");\r\n\r\n  const [formInputs, setFormInputs]: any = useState({})\r\n\r\n  const handleChange = (e: any) => {\r\n    if(e.target.name === \"keywords\") e.target.value = e.target.value.split(\", \")\r\n    setFormInputs({\r\n      ...formInputs,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleAssociationChange = (e: any) => {\r\n    setFormInputs({\r\n      ...formInputs,\r\n      associationDetails: {\r\n        ...formInputs.associationDetails, [e.target.name]: e.target.value\r\n      }\r\n    })\r\n  }\r\n  const handleSubmit = async (e: any) => {\r\n    e.preventDefault();\r\n    console.log(formInputs)\r\n    try {\r\n      const result = await axios.post(\"http://localhost:8080/auth/signup\", formInputs);\r\n      console.log(result);\r\n      if (result.data.token) {\r\n        localStorage.setItem(\"role\", result.data.role)\r\n        localStorage.setItem(\"token\", result.data.token)\r\n      }\r\n      setFeedback(\"Signed up successfuly\");\r\n    } catch (err: any) {\r\n      setFeedback(err.response.data || \"Network error. try again\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    authMiddleware(true, false, true)\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <form>\r\n        <h2>Sign Up</h2>\r\n        <p>Please fill in this form to create an account.</p>\r\n       <div className=\"account-type\">\r\n         <label>Account type:</label>\r\n        <select onChange={(e) => handleChange(e)} name=\"role\">\r\n          <option value=\"user\">user</option>\r\n          <option value=\"association\">association</option>\r\n        </select>\r\n         </div> \r\n        <br/>\r\n        <label>Name: </label>\r\n        <input type=\"text\" name=\"name\" onChange={(e) => handleChange(e)} value={formInputs?.name}/>\r\n        <br/>\r\n        <label>Email: </label>\r\n        <input type=\"text\" name=\"email\" onChange={(e) => handleChange(e)} value={formInputs?.email}/>\r\n        <br/>\r\n        <label>Username: </label>\r\n        <input type=\"text\" name=\"username\" onChange={(e) => handleChange(e)} value={formInputs?.username}/>\r\n        <br/>\r\n        <label>Password: </label>\r\n        <input type=\"password\" name=\"password\" minLength={4} onChange={(e) => handleChange(e)} value={formInputs?.password}/>\r\n        <br/>\r\n        <label>Phone: </label>\r\n        <input type=\"text\" name=\"phone\" onChange={(e) => handleChange(e)} value={formInputs?.phone}/>\r\n        <br/>\r\n        {formInputs.role === \"user\" && <>\r\n        <label>Which field interests you?</label> <br /><br />\r\n        <span className=\"examples\"> (For example: soldiers, holocaust survivors, etc.) </span><br />\r\n        <input type=\"text\" name=\"keywords\" onChange={(e) => handleChange(e)}/>\r\n        <br/>\r\n        </>}\r\n        \r\n        {formInputs.role === \"association\" && <>\r\n        <label>Big Image url: </label>\r\n        <input type=\"text\" name=\"bigImage\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.bigImage}/>\r\n        <br/>\r\n        <label>Image url: </label>\r\n        <input type=\"text\" name=\"image\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.image}/>\r\n        <br/>\r\n        <label>description: </label>\r\n        <input type=\"text\" name=\"description\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.description}/>\r\n        <br/>\r\n        <label>city: </label>\r\n        <input type=\"text\" name=\"city\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.city}/>\r\n        <br/>\r\n        <label>street: </label>\r\n        <input type=\"text\" name=\"street\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.street}/>\r\n        <br/>\r\n        <label>Opening Hour: </label>\r\n        <input type=\"text\" name=\"openingHour\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.openingHour}/>\r\n        <br/>\r\n        <label>Closing Hour: </label>\r\n        <input type=\"text\" name=\"closingHour\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.closingHour}/>\r\n        <br/>\r\n        <label>Site link: </label>\r\n        <input type=\"text\" name=\"siteLink\" onChange={(e) => handleAssociationChange(e)} value={formInputs?.siteLink}/>\r\n        <br/>\r\n        </>}\r\n        <div className=\"submit-form-btn\">\r\n                  <SubmitButton onClick={(e: any) => handleSubmit(e)} value={\"Submit\"} />\r\n        </div>\r\n        <p>\r\n          Already have an account? <Link to=\"/signin\">Sign In</Link>\r\n        </p>\r\n        <b>{feedback}</b>\r\n      </form>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}